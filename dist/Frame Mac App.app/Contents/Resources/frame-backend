#!/usr/bin/env bash
set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
VENV_PYTHON="$SCRIPT_DIR/venv-gui/bin/python"
SCRIPT_PY="$SCRIPT_DIR/frame_backend_api.py"

if [[ ! -x "$VENV_PYTHON" ]]; then
  echo "Error: bundled python not found at $VENV_PYTHON" >&2
  exit 1
fi

if [[ ! -f "$SCRIPT_PY" ]]; then
  echo "Error: backend script not found at $SCRIPT_PY" >&2
  exit 1
fi

unset SYSTEM_VERSION_COMPAT
"$VENV_PYTHON" "$SCRIPT_PY" "$@"
